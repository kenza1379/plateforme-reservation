{% extends 'admin_interface/base_admin.html' %}

{% block title %}{% if form.instance.pk %}Modifier Client{% else %}Ajouter Client{% endif %}{% endblock %}

{% block content %}

<div class="container">
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <h2>{% if form.instance.pk %}‚úèÔ∏è Modifier un client{% else %}‚ûï Ajouter un client{% endif %}</h2>
        
        <!-- Pr√©nom -->
        <div class="form-group">
            <label for="{{ form.first_name.id_for_label }}">Pr√©nom *</label>
            <input type="text" name="{{ form.first_name.html_name }}" id="{{ form.first_name.id_for_label }}" 
                   value="{{ form.first_name.value|default_if_none:'' }}" class="form-control">
            {% if form.first_name.errors %}
                <p style="color: #c0392b;">{{ form.first_name.errors }}</p>
            {% endif %}
        </div>

        <!-- Nom -->
        <div class="form-group">
            <label for="{{ form.last_name.id_for_label }}">Nom *</label>
            <input type="text" name="{{ form.last_name.html_name }}" id="{{ form.last_name.id_for_label }}" 
                   value="{{ form.last_name.value|default_if_none:'' }}" class="form-control">
            {% if form.last_name.errors %}
                <p style="color: #c0392b;">{{ form.last_name.errors }}</p>
            {% endif %}
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="{{ form.email.id_for_label }}">Email *</label>
            <input type="email" name="{{ form.email.html_name }}" id="{{ form.email.id_for_label }}" 
                   value="{{ form.email.value|default_if_none:'' }}" class="form-control">
            {% if form.email.errors %}
                <p style="color: #c0392b;">{{ form.email.errors }}</p>
            {% endif %}
        </div>

        <!-- Nom d'utilisateur -->
        <div class="form-group">
            <label for="{{ form.username.id_for_label }}">Nom d'utilisateur *</label>
            <input type="text" name="{{ form.username.html_name }}" id="{{ form.username.id_for_label }}" 
                   value="{{ form.username.value|default_if_none:'' }}" class="form-control">
            {% if form.username.errors %}
                <p style="color: #c0392b;">{{ form.username.errors }}</p>
            {% endif %}
        </div>

        <!-- Profile fields -->
        <div class="form-group">
            <label for="{{ profile_form.phone.id_for_label }}">T√©l√©phone</label>
            {{ profile_form.phone }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.address.id_for_label }}">Adresse</label>
            {{ profile_form.address }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.postal_code.id_for_label }}">Code Postal</label>
            {{ profile_form.postal_code }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.city.id_for_label }}">Ville</label>
            {{ profile_form.city }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.gender.id_for_label }}">Genre</label>
            {{ profile_form.gender }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.nationality.id_for_label }}">Nationalit√©</label>
            {{ profile_form.nationality }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.public_name.id_for_label }}">Nom public</label>
            {{ profile_form.public_name }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.birth_date.id_for_label }}">Date de naissance</label>
            {{ profile_form.birth_date }}
        </div>

        <div class="form-group">
            <label for="{{ profile_form.profile_photo.id_for_label }}">Photo de profil</label>
            {{ profile_form.profile_photo }}
        </div>

        <!-- Boutons -->
        <div class="form-actions">
            <button type="submit" class="btn">üíæ Enregistrer</button>
            <a href="{% url 'admin_interface:client_list' %}" class="btn btn-secondary">‚Üê Retour √† la liste</a>
        </div>
    </form>
</div>

{% endblock %}
