{% extends 'admin_interface/base_admin.html' %}

{% block title %}Gestion des Techniciens{% endblock %}

{% block content %}

<div class="container">
    <!-- ========== TITRE ET BOUTON AJOUTER ========== -->
    <div class="flex-between" style="margin: 40px 0 30px 0;">
        <h1 style="margin: 0;">üîß Gestion des Techniciens</h1>
        <a href="{% url 'admin_interface:technicien_create' %}" class="btn btn-add">Ajouter un technicien</a>
    </div>

    <!-- ========== TABLEAU DES TECHNICIENS ========== -->
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>NOM</th>
                    <th>EMAIL</th>
                    <th>T√âL√âPHONE</th>
                    <th>ACTIONS</th>
                </tr>
            </thead>
            <tbody>
                {% for technicien in techniciens %}
                <tr>
                    <td><strong>{{ technicien.user.get_full_name }}</strong></td>
                    <td>{{ technicien.user.email }}</td>
                    <td>{{ technicien.phone|default:"‚Äî" }}</td>
                    <td>
                        <div class="action-buttons">
                            <a href="{% url 'admin_interface:technicien_update' technicien.id %}" class="btn btn-secondary">‚úèÔ∏è Modifier</a>
                            <a href="{% url 'admin_interface:technicien_delete' technicien.id %}" 
                               class="btn btn-danger" 
                               onclick="return confirm('√ätes-vous s√ªr de vouloir supprimer ce technicien ?')">
                                üóëÔ∏è Supprimer
                            </a>
                        </div>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center" style="padding: 40px; color: #999;">
                        Aucun technicien trouv√©. Ajoutez-en un pour commencer.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}